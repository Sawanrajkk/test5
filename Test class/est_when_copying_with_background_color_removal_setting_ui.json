{
  "source_file": "test_when_copying_with_background_color_removal_setting_ui.py",
  "lines": [
    "from tests.copy.copy_base import TestGivenEmptyQueueAndEmptyHistoryUI\n",
    "import sys\n",
    "import logging\n",
    "from dunetuf.network.net import Network\n",
    "\n",
    "\n",
    "class TestWhenCopyingWithBackGroundColorRemovalSettingsUI(\n",
    "    TestGivenEmptyQueueAndEmptyHistoryUI\n",
    "):\n",
    "    @classmethod\n",
    "    def setup_class(cls):\n",
    "        \"\"\"Initialize shared test resources.\"\"\"\n",
    "        super().setup_class()\n",
    "        cls.net = Network(cls.ip_address)\n",
    "\n",
    "    @classmethod\n",
    "    def teardown_class(cls):\n",
    "        \"\"\"Clean up shared test resources.\"\"\"\n",
    "        super().teardown_class()\n",
    "\n",
    "    def teardown_method(self):\n",
    "        \"\"\"Clean up resources after each test.\"\"\"\n",
    "        self.spice.goto_homescreen()\n",
    "        self.spice.wait_ready()\n",
    "\n",
    "        # Clear job queue\n",
    "        self.job_queue.cancel_all_jobs()\n",
    "        self.job_queue.wait_for_queue_empty()\n",
    "\n",
    "        # Clear job history\n",
    "        self.job_history.clear()\n",
    "        self.job_history.wait_for_history_empty()\n",
    "\n",
    "        # Restore default ticket\n",
    "        response = self.update_default_ticket_if_required(self.default_ticket)\n",
    "        assert response == 200\n",
    "\n",
    "    \"\"\"\n",
    "    $$$$$_BEGIN_TEST_METADATA_DECLARATION_$$$$$\n",
    "        +purpose: Perform copy job with setting background color removal as on\n",
    "        +test_tier: 3\n",
    "        +is_manual: False\n",
    "        +test_classification:System\n",
    "        +reqid: DUNE-137387\n",
    "        +timeout:500\n",
    "        +asset: Copy\n",
    "        +delivery_team:WalkupApps\n",
    "        +feature_team:CopySolns\n",
    "        +test_framework: TUF\n",
    "        +name: TestWhenCopyingWithBackGroundColorRemovalSettingsUI::test_when_using_background_color_removal_true_from_widgetcopypage_mdf_then_succeeds\n",
    "        +categorization:\n",
    "            +segment:Platform\n",
    "            +area:Copy\n",
    "            +feature:CopySettings\n",
    "            +sub_feature:\n",
    "            +interaction:Headed\n",
    "            +test_type:Positive\n",
    "        +test:\n",
    "            +title:TestWhenCopyingWithBackGroundColorRemovalSettingsUI::test_when_using_background_color_removal_true_from_widgetcopypage_mdf_then_succeeds\n",
    "            +guid: c916618f-ac08-4000-b651-5e0c9f1e0d0b\n",
    "            +dut:\n",
    "                +type:Simulator\n",
    "                +configuration:DeviceFunction=Copy & ScannerInput=ManualFeeder & ScanSettings=BackgroundColorRemoval & UIComponent=CopyWidget\n",
    "    $$$$$_END_TEST_METADATA_DECLARATION_$$$$$\n",
    "    \"\"\"\n",
    "\n",
    "    def test_when_using_background_color_removal_true_from_widgetcopypage_mdf_then_succeeds(\n",
    "        self\n",
    "    ):\n",
    "        copy_job_app = self.spice.copy_ui()\n",
    "        options = {\"background_color_removal\": True}\n",
    "        loadmedia = \"MDF\"\n",
    "        copy_path = \"WidgetCopyPage\"\n",
    "        copy_job_app.copy_job_ticket_general_method(\n",
    "            loadmedia, copy_path, options, self.udw, self.net\n",
    "        )\n",
    "\n",
    "        # Wait for job to complete\n",
    "        self.job_queue.wait_for_queue_empty()\n",
    "\n",
    "        # Verify job completed successfully\n",
    "        self.job_history.wait_for_jobs()\n",
    "        history = self.job_history.get()\n",
    "        assert history[0][\"jobType\"] == \"copy\"\n",
    "        assert history[0][\"completionState\"] == \"success\"\n",
    "\n",
    "    \"\"\"\n",
    "    $$$$$_BEGIN_TEST_METADATA_DECLARATION_$$$$$\n",
    "        +purpose: Perform copy job with setting background color removal as off\n",
    "        +test_tier: 3\n",
    "        +is_manual: False\n",
    "        +test_classification:System\n",
    "        +reqid: DUNE-137387\n",
    "        +timeout:300\n",
    "        +asset: Copy\n",
    "        +delivery_team:WalkupApps\n",
    "        +feature_team:CopySolns\n",
    "        +test_framework: TUF\n",
    "        +name: TestWhenCopyingWithBackGroundColorRemovalSettingsUI::test_when_using_background_color_removal_false_from_copylanding_mdf_then_succeeds\n",
    "        +categorization:\n",
    "            +segment:Platform\n",
    "            +area:Copy\n",
    "            +feature:CopySettings\n",
    "            +sub_feature:\n",
    "            +interaction:Headed\n",
    "            +test_type:Positive\n",
    "        +test:\n",
    "            +title:TestWhenCopyingWithBackGroundColorRemovalSettingsUI::test_when_using_background_color_removal_false_from_copylanding_mdf_then_succeeds\n",
    "            +guid: c5963eaa-8d12-4083-948e-9497393ae314\n",
    "            +dut:\n",
    "                +type:Simulator\n",
    "                +configuration:DeviceFunction=Copy & ScannerInput=ManualFeeder & ScanSettings=BackgroundColorRemoval\n",
    "    $$$$$_END_TEST_METADATA_DECLARATION_$$$$$\n",
    "    \"\"\"\n",
    "\n",
    "    def test_when_using_background_color_removal_false_from_copylanding_mdf_then_succeeds(\n",
    "        self\n",
    "    ):\n",
    "        copy_job_app = self.spice.copy_ui()\n",
    "        options = {\"background_color_removal\": False}\n",
    "        loadmedia = \"MDF\"\n",
    "        copy_path = \"CopyLandingPage\"\n",
    "        copy_job_app.copy_job_ticket_general_method(\n",
    "            loadmedia, copy_path, options, self.udw, self.net\n",
    "        )\n",
    "\n",
    "        # Wait for job to complete\n",
    "        self.job_queue.wait_for_queue_empty()\n",
    "\n",
    "        # Verify job completed successfully\n",
    "        self.job_history.wait_for_jobs()\n",
    "        history = self.job_history.get()\n",
    "        assert history[0][\"jobType\"] == \"copy\"\n",
    "        assert history[0][\"completionState\"] == \"success\"\n"
  ]
}